<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Criar Conta - LevelUp Kids</title>

  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme:{
        extend:{
          fontFamily:{ kids:["Fredoka One","cursive"]},
          colors:{
            sky:"#0072B2",
            pink:"#D55E00",
            mint:"#009E73",
            lemon:"#F0E442",
            lilac:"#CC79A7",
            bgkids:"#F4F5F7"
          }
        }
      }
    }
  </script>
</head>

<body class="bg-bgkids font-kids">

  <div class="text-center mt-10">
    <img src="/static/assets/logo.png" class="w-32 mx-auto">
    <h1 class="text-3xl text-sky mt-4">Criar Conta</h1>
  </div>

  <div class="max-w-md mx-auto bg-white border-2 border-sky mt-6 rounded-2xl shadow p-6">
    <input id="name" type="text" placeholder="Nome"
      class="w-full p-3 border-2 border-sky rounded-xl mb-3"/>

    <input id="email" type="email" placeholder="E-mail"
      class="w-full p-3 border-2 border-sky rounded-xl mb-3"/>

    <input id="senha" type="password" placeholder="Senha"
      class="w-full p-3 border-2 border-sky rounded-xl mb-3"/>

    <button onclick="registerParent()"
      class="w-full bg-sky text-white py-3 rounded-xl shadow hover:scale-105 transition">
      Criar Conta
    </button>
  </div>

  <div class="text-center mt-4">
    <button onclick="window.location.href='/login'"
      class="text-sky underline">
      JÃ¡ tenho uma conta
    </button>
  </div>

  <script>
    async function registerParent() {
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const senha = document.getElementById("senha").value.trim();

      if (!name || !email || !senha) {
        alert("Preencha todos os campos!");
        return;
      }

      const res = await fetch("/v1/parent", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({name, email, senha})
      });

      if (res.ok) {
        alert("Conta criada!");
        window.location.href="/login";
      } else {
        const err = await res.json();
        alert(err.detail || "Erro ao criar conta.");
      }
    }
  </script>

</body>
</html>
